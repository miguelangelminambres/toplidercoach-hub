<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VideoAnÃ¡lisis - TopLiderCoach</title>
  <link rel="stylesheet" href="css/videoanalisis.css">
</head>
<body>

<div class="va-app">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PANTALLA DE CARGA DE VÃDEO
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="va-upload-screen" class="va-upload-screen">
    <div id="va-upload-box" class="va-upload-box">
      <div class="va-upload-icon">ğŸ¬</div>
      <div class="va-upload-title">Cargar vÃ­deo del partido</div>
      <div class="va-upload-sub">Arrastra o haz clic para seleccionar<br>MP4, MOV, WebM, AVI</div>
      <div class="va-upload-btn">ğŸ“ Seleccionar archivo</div>
      <input type="file" id="va-file-input" accept="video/*" style="display:none">
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       APP PRINCIPAL
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="va-main" class="va-main">

    <!-- â”€â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div class="va-header">
      <div class="va-logo">
        <div class="va-logo-icon">ğŸ¬</div>
        <div>
          <h1>VideoAnÃ¡lisis</h1>
          <p id="va-video-name">-</p>
        </div>
      </div>
      <div class="va-header-actions">
        <button class="va-btn" onclick="vaSnapshot()" title="Captura con dibujos">ğŸ“¸ Captura</button>
        <button class="va-btn" onclick="vaExportAnalysis()" title="Exportar anÃ¡lisis">ğŸ’¾ Exportar</button>
        <button class="va-btn va-btn-danger" onclick="vaNewVideo()">Nuevo vÃ­deo</button>
      </div>
    </div>

    <div class="va-content">

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ZONA DE VÃDEO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <div class="va-video-area">

        <!-- VÃ­deo + Canvas de dibujo -->
        <div class="va-video-container">
          <video id="va-video"></video>
          <canvas id="va-canvas"></canvas>

          <!-- Badge modo dibujo -->
          <div class="va-draw-badge" id="va-draw-badge">
            âœï¸ Modo dibujo: <span id="va-draw-mode-label">-</span>
            <span class="close" onclick="vaSetDrawMode(null)">âœ•</span>
          </div>

          <!-- Overlay de texto -->
          <div class="va-text-overlay" id="va-text-overlay">
            <input type="text" id="va-text-input" class="va-input" placeholder="Escribe texto..." style="width:180px"
              onkeydown="if(event.key==='Enter')vaAddTextDrawing()">
            <button class="va-btn va-btn-primary va-btn-sm" onclick="vaAddTextDrawing()">OK</button>
            <button class="va-btn va-btn-sm" onclick="vaCancelText()">âœ•</button>
          </div>
        </div>

        <!-- â”€â”€â”€ Timeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="va-timeline-area">
          <div class="va-timeline" id="va-timeline" onclick="vaTimelineClick(event)">
            <div class="va-timeline-progress" id="va-tl-progress"></div>
            <div id="va-tl-markers"></div>
            <div id="va-tl-clips"></div>
            <div class="va-timeline-playhead" id="va-tl-playhead"></div>
          </div>
        </div>

        <!-- â”€â”€â”€ Controles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="va-controls">
          <button class="va-ctrl" onclick="vaStepFrame(-1)" title="Fotograma anterior (,)">âª</button>
          <button class="va-ctrl va-ctrl-play" id="va-play-btn" onclick="vaTogglePlay()" title="Play/Pause (Espacio)">â–¶</button>
          <button class="va-ctrl" onclick="vaStepFrame(1)" title="Siguiente fotograma (.)">â©</button>
          <button class="va-ctrl va-ctrl-speed" id="va-speed-btn" onclick="vaChangeSpeed()" title="Cambiar velocidad">1x</button>

          <div class="va-time">
            <span id="va-current-time">00:00</span>
            <span class="sep">/</span>
            <span id="va-total-time">00:00</span>
          </div>

          <div class="va-volume">
            ğŸ”Š
            <input type="range" min="0" max="1" step="0.05" value="0.7"
              oninput="vaChangeVolume(this.value)">
          </div>
        </div>
      </div>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PANEL DERECHO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <div class="va-panel">

        <!-- Tabs -->
        <div class="va-tabs">
          <button class="va-tab active" data-panel="events" onclick="vaSwitchPanel('events')">
            ğŸ·ï¸ Eventos <span class="badge" id="va-event-count" style="display:none">0</span>
          </button>
          <button class="va-tab" data-panel="draw" onclick="vaSwitchPanel('draw')">âœï¸ Dibujar</button>
          <button class="va-tab" data-panel="clips" onclick="vaSwitchPanel('clips')">âœ‚ï¸ Clips</button>
        </div>

        <div class="va-panel-body">

          <!-- â•â•â• EVENTOS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
          <div class="va-section active" id="va-sec-events">

            <p class="va-label">ETIQUETAR EN <span id="va-tag-time">00:00</span></p>

            <!-- CategorÃ­as -->
            <div class="va-tags" id="va-event-tags"></div>

            <!-- AÃ±adir evento -->
            <div class="va-add-row" id="va-add-row">
              <input type="text" class="va-input" id="va-event-note" placeholder="Nota opcional..."
                onkeydown="if(event.key==='Enter')vaAddEvent()">
              <button class="va-btn va-btn-primary va-btn-sm" onclick="vaAddEvent()">+</button>
            </div>

            <!-- Filtro -->
            <select class="va-filter" id="va-event-filter" onchange="vaSetEventFilter(this.value)">
              <option value="all">Todos (0)</option>
            </select>

            <!-- Lista de eventos -->
            <div class="va-event-list" id="va-event-list">
              <div class="va-empty">Sin eventos todavÃ­a. Selecciona una categorÃ­a y pulsa + para etiquetar.</div>
            </div>
          </div>

          <!-- â•â•â• DIBUJAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
          <div class="va-section" id="va-sec-draw">

            <p class="va-label">HERRAMIENTAS</p>
            <div class="va-draw-tools" id="va-draw-tools"></div>

            <p class="va-label">COLOR</p>
            <div class="va-colors" id="va-color-picker"></div>

            <div class="va-draw-actions">
              <button class="va-btn" onclick="vaUndoDrawing()" style="flex:1">â†©ï¸ Deshacer</button>
              <button class="va-btn" onclick="vaClearDrawings()" style="flex:1">ğŸ—‘ï¸ Borrar todo</button>
            </div>

            <button class="va-btn" id="va-toggle-draw" onclick="vaToggleDrawVisibility()" style="width:100%;margin-bottom:12px">
              ğŸ‘ï¸ Ocultar dibujos
            </button>

            <button class="va-btn va-btn-primary" onclick="vaSnapshot()" style="width:100%">
              ğŸ“¸ Guardar captura con dibujos
            </button>

            <p class="va-draw-hint">ğŸ’¡ Los dibujos se muestran durante 5 segundos desde el momento en que se crean. Pulsa ESC para salir del modo dibujo.</p>
          </div>

          <!-- â•â•â• CLIPS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
          <div class="va-section" id="va-sec-clips">

            <p class="va-label">MARCAR CLIP</p>
            <div class="va-clip-markers">
              <button class="va-btn" id="va-clip-in" onclick="vaSetClipPoint('in')">ğŸŸ¢ IN</button>
              <button class="va-btn" id="va-clip-out" onclick="vaSetClipPoint('out')">ğŸ”´ OUT</button>
            </div>

            <button class="va-btn va-btn-primary" id="va-save-clip" onclick="vaSaveClip()"
              style="width:100%;margin-bottom:16px;display:none">
              âœ‚ï¸ Guardar clip
            </button>

            <p class="va-label">CLIPS GUARDADOS (<span id="va-clip-count">0</span>)</p>
            <div id="va-clip-list">
              <div class="va-empty">Marca un punto IN y OUT en la lÃ­nea de tiempo para crear clips.</div>
            </div>
          </div>

        </div>

        <!-- Atajos de teclado -->
        <div class="va-hints">
          <span><kbd>Espacio</kbd> Play</span>
          <span><kbd>â†â†’</kbd> Â±5s</span>
          <span><kbd>,.</kbd> Frame</span>
          <span><kbd>Esc</kbd> Salir</span>
        </div>
      </div>

    </div>
  </div>

</div>

<!-- JS -->
<script src="js/videoanalisis.js"></script>

</body>
</html>
